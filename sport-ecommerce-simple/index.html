<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SportZone - Trang Chủ</title>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/home.css" />
  </head>
  <body>
    <!-- Header: Điều hướng chung cho tất cả các trang -->
    <header class="header">
      <div class="container">
        <div class="header-content">
          <!-- Logo -->
          <div class="logo">
            <span class="logo-icon">⚡</span>
            <span class="logo-text">SportZone</span>
          </div>

          <!-- Menu Điều Hướng -->
          <nav class="nav">
            <a href="index.html" class="nav-link active">Trang Chủ</a>
            <a href="#products" class="nav-link">Sản Phẩm</a>
          </nav>

          <!-- Nút Đăng Nhập/Đăng Ký - Sẽ được thay đổi bởi JavaScript -->
          <div class="header-actions" id="dangNhapDangKy"></div>
        </div>
      </div>
    </header>

    <!-- Nội Dung Chính -->
    <main class="main-content">
      <!-- Hero Section: Banner chủ đề thể thao -->
      <section class="hero">
        <div class="hero-overlay"></div>
        <div class="container">
          <div class="hero-content">
            <h1 class="hero-title">
              Nâng Tầm <span class="highlight">Hiệu Suất</span> Của Bạn
            </h1>
            <p class="hero-subtitle">
              Khám phá thiết bị thể thao cao cấp được thiết kế cho các vận động
              viên. Nâng cao phong độ của bạn với bộ sưu tập dụng cụ thể thao
              của chúng tôi.
            </p>
            <div class="hero-actions">
              <a href="#products" class="btn btn-primary btn-large"
                >Xem Sản Phẩm</a
              >
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- JavaScript: nằm trong HTML (BEGINNER) -->
    <script>
      // Hiển thị phần nút ở header theo trạng thái trong localStorage
      function kiemTraDangNhap() {
        var trangThai = localStorage.getItem("trangThai"); // "daDangNhap" khi đã login
        var ten = localStorage.getItem("username"); // tên lưu từ register/login
        var phanTu = document.getElementById("dangNhapDangKy");

        // nếu đã đăng nhập
        if (trangThai === "daDangNhap") {
          // nếu không có tên thì dùng "Bạn"
          if (!ten) ten = "Bạn";
          phanTu.innerHTML =
            '<span style="margin-right:10px;">Xin chào ' +
            ten +
            "</span>" +
            ' <button class="btn btn-outline" onclick="dangXuat()">Đăng xuất</button>';
        } else {
          // nếu chưa đăng nhập
          phanTu.innerHTML =
            '<a href="pages/login.html" class="btn btn-outline">Đăng nhập</a> ' +
            '<a href="pages/register.html" class="btn btn-primary">Đăng ký</a>';
        }
      }

      // Hàm đăng xuất: xóa trạng thái và chuyển về trang login (hoặc reload)
      function dangXuat() {
        localStorage.removeItem("trangThai");
        // giữ username để tiện (không bắt buộc xóa), nếu muốn xóa thêm: localStorage.removeItem("username");
        alert("Bạn đã đăng xuất");
        // chuyển tới trang đăng nhập (an toàn cho luồng)
        window.location.href = "pages/login.html";
      }

      // Chạy khi trang tải xong
      window.onload = function () {
        // Kiểm tra trạng thái đăng nhập và cập nhật header
        kiemTraDangNhap();
      };
    </script>
  </body>
</html>
